**Redis** ฺฉ ูพุงฺฏุงู ุฏุงุฏูโ ุฏุฑููโุญุงูุธูโุง (In-Memory) ุงุณุช ฺฉู ุจู ุนููุงู ฺฉ ูุฎุฒู ฺฉูุฏ-ููุฏุงุฑ (Key-Value Store) ุงุณุชูุงุฏู ูโุดูุฏ. ุงู ูพุงฺฏุงู ุฏุงุฏู ุจู ุฏูู ุณุฑุนุช ุจุงูุง ู ุนููฺฉุฑุฏ ุนุงูุ ูุนูููุงู ุจุฑุง ุฐุฎุฑูโุณุงุฒ ุฏุงุฏูโูุง ูููุชุ ฺฉุด (Cache)ุ ุตูโูุง ูพุงู (Message Queues) ู ุณูุงุฑููุง ุฏฺฏุฑ ฺฉู ูุงุฒ ุจู ุฏุณุชุฑุณ ุณุฑุน ุจู ุฏุงุฏูโูุง ุฏุงุฑูุฏุ ุงุณุชูุงุฏู ูโุดูุฏ.

ุฏุฑ ุงูุฌุง ุจู ุชูุถุญ ูุญููโ **ูุตุจ**ุ **ูพฺฉุฑุจูุฏ** (Config) ู **ุงุณุชูุงุฏู** ุงุฒ Redis ูโูพุฑุฏุงุฒู:

---

## ฑ. ูุตุจ Redis

### ุฑู ุณุณุชูโูุง ูุจุชู ุจุฑ ูููฺฉุณ (Ubuntu/Debian)
1. ุจู ุฑูุฒุฑุณุงู ูุณุช ูพฺฉุฌโูุง:
   ```bash
   sudo apt update
   ```
2. ูุตุจ Redis:
   ```bash
   sudo apt install redis-server
   ```
3. ุจุฑุฑุณ ูุถุนุช ุณุฑูุณ Redis:
   ```bash
   sudo systemctl status redis
   ```
   ุงฺฏุฑ ุณุฑูุณ ูุนุงู ูุณุชุ ุขู ุฑุง ุดุฑูุน ฺฉูุฏ:
   ```bash
   sudo systemctl start redis
   ```

### ุฑู ุณุณุชูโูุง ูุจุชู ุจุฑ macOS
ุจุง ุงุณุชูุงุฏู ุงุฒ Homebrew:
```bash
brew install redis
```
ุณูพุณ ุณุฑูุณ Redis ุฑุง ุดุฑูุน ฺฉูุฏ:
```bash
brew services start redis
```

---

## ฒ. ูพฺฉุฑุจูุฏ Redis (Config)

ูุงู ูพฺฉุฑุจูุฏ ุงุตู Redis ูุนูููุงู ุฏุฑ ูุณุฑ `/etc/redis/redis.conf` ูุฑุงุฑ ุฏุงุฑุฏ. ุดูุง ูโุชูุงูุฏ ุงู ูุงู ุฑุง ุจุฑุง ุชูุธูุงุช ุฏูุฎูุงู ูุฑุงุด ฺฉูุฏ.

### ุจุฑุฎ ุงุฒ ุชูุธูุงุช ููู:
1. **ูพูุฑุช (Port)**:
   - ุจู ุทูุฑ ูพุดโูุฑุถ Redis ุฑู ูพูุฑุช `6379` ุงุฌุฑุง ูโุดูุฏ.
   - ุจุฑุง ุชุบุฑ ูพูุฑุชุ ุฎุท ุฒุฑ ุฑุง ุฏุฑ ูุงู `redis.conf` ูุฑุงุด ฺฉูุฏ:
     ```bash
     port 6380
     ```

2. **ุฑูุฒ ุนุจูุฑ (Password)**:
   - ุจุฑุง ุงููุช ุจุดุชุฑุ ูโุชูุงูุฏ ฺฉ ุฑูุฒ ุนุจูุฑ ุจุฑุง Redis ุชูุธู ฺฉูุฏ.
   - ุฎุท ุฒุฑ ุฑุง ุฏุฑ ูุงู `redis.conf` ุงุถุงูู ุง ูุฑุงุด ฺฉูุฏ:
     ```bash
     requirepass yourpassword
     ```

3. **ูุญุฏูุฏุช ุฏุณุชุฑุณ (Bind)**:
   - ุจู ุทูุฑ ูพุดโูุฑุถ Redis ููุท ุจู ุฏุฑุฎูุงุณุชโูุง ูุญู (`127.0.0.1`) ูพุงุณุฎ ูโุฏูุฏ.
   - ุจุฑุง ุงุฌุงุฒู ุฏุณุชุฑุณ ุงุฒ ุฎุงุฑุฌุ ุฎุท ุฒุฑ ุฑุง ูุฑุงุด ฺฉูุฏ:
     ```bash
     bind 0.0.0.0
     ```
   - **ุชูุฌู**: ุงู ฺฉุงุฑ ููฺฉู ุงุณุช ุงููุช ุฑุง ฺฉุงูุด ุฏูุฏุ ุจูุงุจุฑุงู ุญุชูุงู ุงุฒ ูุงุฑูุงู ุง ุฑูุฒ ุนุจูุฑ ุงุณุชูุงุฏู ฺฉูุฏ.

4. **ุฐุฎุฑูโุณุงุฒ ุฏุงุฏูโูุง (Persistence)**:
   - Redis ุงุฒ ุฏู ุฑูุด ุจุฑุง ุฐุฎุฑูโุณุงุฒ ุฏุงุฏูโูุง ุงุณุชูุงุฏู ูโฺฉูุฏ:
     - **RDB (Snapshotting)**: ุฐุฎุฑูโุณุงุฒ ุฏูุฑูโุง ุฏุงุฏูโูุง ุฏุฑ ฺฉ ูุงู.
     - **AOF (Append-Only File)**: ุฐุฎุฑูโุณุงุฒ ูุฑ ุชุบุฑ ุฏุฑ ฺฉ ูุงู.
   - ุจุฑุง ูุนุงูโฺฉุฑุฏู AOFุ ุฎุท ุฒุฑ ุฑุง ุฏุฑ `redis.conf` ุงุถุงูู ฺฉูุฏ:
     ```bash
     appendonly yes
     ```

5. **ูุงฺฏโูุง (Logging)**:
   - ูโุชูุงูุฏ ุณุทุญ ูุงฺฏโูุง ุฑุง ุชูุธู ฺฉูุฏ:
     ```bash
     loglevel notice
     ```
   - ุง ูุณุฑ ูุงู ูุงฺฏ ุฑุง ุชุบุฑ ุฏูุฏ:
     ```bash
     logfile /var/log/redis/redis-server.log
     ```

---

## ณ. ุงุณุชูุงุฏู ุงุฒ Redis

### ุงุชุตุงู ุจู Redis
ุจุฑุง ุงุชุตุงู ุจู ุณุฑูุฑ Redis ุงุฒ ุฏุณุชูุฑ `redis-cli` ุงุณุชูุงุฏู ฺฉูุฏ:
```bash
redis-cli
```
ุงฺฏุฑ ุฑูุฒ ุนุจูุฑ ุชูุธู ฺฉุฑุฏูโุงุฏุ ุงุจุชุฏุง ุจุงุฏ ุงุญุฑุงุฒ ููุช ฺฉูุฏ:
```bash
AUTH yourpassword
```

### ุฏุณุชูุฑุงุช ูพุงูโ Redis
1. **ุฐุฎุฑูโุณุงุฒ ู ุจุงุฒุงุจ ุฏุงุฏูโูุง**:
   - ุฐุฎุฑูโุณุงุฒ ฺฉ ฺฉูุฏ-ููุฏุงุฑ:
     ```bash
     SET mykey "Hello Redis"
     ```
   - ุจุงุฒุงุจ ููุฏุงุฑ ฺฉ ฺฉูุฏ:
     ```bash
     GET mykey
     ```

2. **ูุฏุฑุช ฺฉูุฏูุง**:
   - ุญุฐู ฺฉ ฺฉูุฏ:
     ```bash
     DEL mykey
     ```
   - ุจุฑุฑุณ ูุฌูุฏ ฺฉ ฺฉูุฏ:
     ```bash
     EXISTS mykey
     ```

3. **ูุฏุฑุช ุฒูุงู ุงููุถุง (TTL)**:
   - ุชูุธู ุฒูุงู ุงููุถุง ุจุฑุง ฺฉ ฺฉูุฏ (ุจู ุซุงูู):
     ```bash
     EXPIRE mykey 60
     ```
   - ุจุฑุฑุณ ุฒูุงู ุจุงูโูุงูุฏู ุชุง ุงููุถุง:
     ```bash
     TTL mykey
     ```

4. **ุงุณุชูุงุฏู ุงุฒ ูุณุชโูุง (Lists)**:
   - ุงูุฒูุฏู ููุฏุงุฑ ุจู ูุณุช:
     ```bash
     LPUSH mylist "item1"
     ```
   - ุจุงุฒุงุจ ููุงุฏุฑ ูุณุช:
     ```bash
     LRANGE mylist 0 -1
     ```

5. **ุงุณุชูุงุฏู ุงุฒ ูุฌููุนูโูุง (Sets)**:
   - ุงูุฒูุฏู ููุฏุงุฑ ุจู ูุฌููุนู:
     ```bash
     SADD myset "item1"
     ```
   - ุจุงุฒุงุจ ุชูุงู ููุงุฏุฑ ูุฌููุนู:
     ```bash
     SMEMBERS myset
     ```

---

## ด. ุงุณุชูุงุฏู ุงุฒ Redis ุฏุฑ ุจุฑูุงููโูุง

### ุฏุฑ ูพุงุชูู (ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉุชุงุจุฎุงูู `redis-py`)
1. ูุตุจ ฺฉุชุงุจุฎุงูู:
   ```bash
   pip install redis
   ```
2. ูุซุงู ฺฉุฏ:
   ```python
   import redis

   # ุงุชุตุงู ุจู Redis
   r = redis.Redis(host='localhost', port=6379, db=0, password='yourpassword')

   # ุฐุฎุฑูโุณุงุฒ ุฏุงุฏู
   r.set('mykey', 'Hello Redis')

   # ุจุงุฒุงุจ ุฏุงุฏู
   value = r.get('mykey')
   print(value.decode('utf-8'))  # ุฎุฑูุฌ: Hello Redis
   ```

---

## ต. ูุฏุฑุช Redis ุฏุฑ Kubernetes

ุงฺฏุฑ ูโุฎูุงูุฏ Redis ุฑุง ุฏุฑ Kubernetes ุงุฌุฑุง ฺฉูุฏุ ูโุชูุงูุฏ ุงุฒ ฺฉ Deployment ู Service ุงุณุชูุงุฏู ฺฉูุฏ. ุฏุฑ ุฒุฑ ฺฉ ูุซุงู ุณุงุฏู ุขูุฑุฏู ุดุฏู ุงุณุช:

### ูุงู `redis-deployment.yaml`:
```yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: redis
spec:
  replicas: 1
  selector:
    matchLabels:
      app: redis
  template:
    metadata:
      labels:
        app: redis
    spec:
      containers:
      - name: redis
        image: redis:latest
        ports:
        - containerPort: 6379
        env:
        - name: REDIS_PASSWORD
          value: "yourpassword"
```

### ูุงู `redis-service.yaml`:
```yaml
apiVersion: v1
kind: Service
metadata:
  name: redis
spec:
  selector:
    app: redis
  ports:
  - port: 6379
    targetPort: 6379
  type: ClusterIP
```

### ุงุฌุฑุง Redis ุฏุฑ Kubernetes:
```bash
kubectl apply -f redis-deployment.yaml
kubectl apply -f redis-service.yaml
```

---

ุจุง ุงู ุชูุถุญุงุชุ ุดูุง ูโุชูุงูุฏ Redis ุฑุง ูุตุจุ ูพฺฉุฑุจูุฏ ู ุฏุฑ ุจุฑูุงููโูุง ุฎูุฏ ุงุณุชูุงุฏู ฺฉูุฏ. ุงฺฏุฑ ุณูุงู ุฏุงุฑุฏุ ุฎูุดุญุงู ูโุดูู ฺฉูฺฉ ฺฉูู! ๐
